---
aliases:
layout: page
title: jekyll实现侧边栏目录以及滚动
description:
comments:
menu:
tags:  jekyll 代码
categories:
permanent: 
excerpt: # abstract
timestamp: 202201100932
createdate: 2022-01-10
origindate: 
---

要系统学习以下Jekyll？

## 实现方法1 （放弃）
在页面中加入
```markdown
* content
 {:toc}

```

在`head.html`中加入以下代码：

```html
<script type="text/javascript" src="/assets/jquery-1.11.2.min.js"></script>

<script type="text/javascript">
  $(document).ready(function() {
      /*可通过下列语句判断是否生成了目录(有的文章内容短无目录)*/
      if (typeof $('#markdown-toc').html() === 'undefined') {
      //...	
      }else {
      /*将其显示在侧边栏*/
      $('.sidebar_catelog').html('<ul class="list_catelog">' + $('#markdown-toc').html() + '</ul>');
      }

  });
  
function locateCatelogList(){
 /*获取文章目录集合,可通过：header过滤器*/
 var alis = $('.article :header');
 /*获取侧边栏目录列表集合**/
 var sidebar_alis = $('.sidebar_catelog').find('a');
 /*获取滚动条到顶部的距离*/
 var scroll_height = $(window).scrollTop();
 for(var i =0;i<alis.length;i++){
     /*获取锚点集合中的元素分别到顶点的距离*/
     var a_height = $(alis[i]).offset().top;
     if (a_height<scroll_height){
         /*高亮显示*/
         sidebar_alis.removeClass('list_click');
         $(sidebar_alis[i]).addClass('list_click');
     }
 }
}
$(function() {
 /*绑定滚动事件 */ 
 $(window).bind('scroll',locateCatelogList); 
});

/* jekyll - 侧边栏目录的滚动效果 | Creeperdance
https://creeperdance.github.io/2017/05/jekyll-catalog.html*/
  </script>

</head>

<div class="sidebar_catelog">

</div>

```

## 实现方法2 

纯的js实现，参考[ghiculescu](#jekyll-table-of-contents)。 



## 参考

[jekyll - 侧边栏目录的滚动效果 \| Creeperdance](https://creeperdance.github.io/2017/05/jekyll-catalog.html)

[creeperdance.github.com/default.html at master · creeperdance/creeperdance.github.com · GitHub](https://github.com/creeperdance/creeperdance.github.com/blob/master/_layouts/default.html)

[目录结构 \| Jekyll • 一个简洁的博客、静态网站生成工具](https://www.jekyll.com.cn/docs/structure/)

###  jekyll-table-of-contents
[ghiculescu/jekyll-table-of-contents: A simple JavaScript table of contents, designed for Jekyll (or similar) sites.](https://github.com/ghiculescu/jekyll-table-of-contents)